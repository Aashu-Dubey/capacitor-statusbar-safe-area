{"version":3,"file":"controller.js","sourceRoot":"","sources":["../../src/controller.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAG5C,OAAO,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAEnC,MAAM,OAAO,kBAAkB;IAC7B,KAAK,CAAC,kBAAkB;QACtB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,kBAAkB;QACtB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,CAAC,kBAAkB,EAAE,CAAC;QAEvD,MAAM,OAAO,GAAG,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC;QAC/C,OAAO,CAAC,WAAW,CAAC,qBAAqB,EAAE,GAAG,MAAM,IAAI,CAAC,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,oBAAoB;QACxB,MAAM,aAAa,GAAG,MAAM,QAAQ,CAAC,iBAAiB,EAAE,CAAC;QACzD,KAAK,MAAM,KAAK,IAAI,aAAa,EAAE;YACjC,MAAM,OAAO,GAAG,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC;YAC/C,QAAQ,SAAS,CAAC,WAAW,EAAE,EAAE;gBAC/B,KAAK,SAAS,CAAC;gBACf,KAAK,KAAK;oBACR;wBACE,OAAO,CAAC,WAAW,CACjB,qBAAqB,KAAK,EAAE,EAC5B,GAAG,aAAa,CAAC,KAA4B,CAAC,IAAI,CACnD,CAAC;qBACH;oBACD,MAAM;gBACR;oBACE;wBACE,OAAO,CAAC,WAAW,CAAC,qBAAqB,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;qBAC1D;oBACD,MAAM;aACT;SACF;IACH,CAAC;CACF","sourcesContent":["import { Capacitor } from '@capacitor/core';\n\nimport type { SafeAreaInset } from './index';\nimport { SafeArea } from './index';\n\nexport class SafeAreaController {\n  async injectCSSVariables(): Promise<void> {\n    this.addStatusBarHeight();\n    this.addSafeAreaVariables();\n  }\n\n  async addStatusBarHeight(): Promise<void> {\n    const { height } = await SafeArea.getStatusBarHeight();\n\n    const elStyle = document.documentElement.style;\n    elStyle.setProperty('--status-bar-height', `${height}px`);\n  }\n\n  async addSafeAreaVariables(): Promise<void> {\n    const safeAreaInset = await SafeArea.getSafeAreaInsets();\n    for (const inset in safeAreaInset) {\n      const elStyle = document.documentElement.style;\n      switch (Capacitor.getPlatform()) {\n        case 'android':\n        case 'ios':\n          {\n            elStyle.setProperty(\n              `--safe-area-inset-${inset}`,\n              `${safeAreaInset[inset as keyof SafeAreaInset]}px`,\n            );\n          }\n          break;\n        default:\n          {\n            elStyle.setProperty(`--safe-area-inset-${inset}`, '0px');\n          }\n          break;\n      }\n    }\n  }\n}\n"]}